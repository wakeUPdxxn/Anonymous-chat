{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { useState, useEffect } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ws = new WebSocket(\"ws://localhost:2323\");\nvar _useState = useState(0),\n  _useState2 = _slicedToArray(_useState, 2),\n  membersCount = _useState2[0],\n  setMembersCount = _useState2[1];\nfunction getMembersCount() {\n  useEffect(function () {\n    var getMembersCount = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch('http://localhost:3232/api/members', {\n            method: 'Get',\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          });\n          var json = yield response.json();\n          var _membersCount = JSON.stringify(json);\n          setMembersCount(_membersCount);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n      return function getMembersCount() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    getMembersCount();\n  });\n}\nexport default function App() {\n  useEffect(function () {\n    var getMembersCount = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch('http://localhost:3232/api/members', {\n            method: 'Get',\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          });\n          var json = yield response.json();\n          var _membersCount2 = JSON.stringify(json);\n          setMembersCount(_membersCount2);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n      return function getMembersCount() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    getMembersCount();\n  });\n  var nickNameHandler = function nickNameHandler(nickName) {};\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.headerText,\n        children: \"\\u041D\\u0438\\u043A\\u043D\\u0435\\u0439\\u043C:\"\n      }), _jsx(TextInput, {\n        style: styles.textInput,\n        onChangeText: function onChangeText() {\n          nickNameHandler(nickName);\n        },\n        defaultValue: 'Все, что угодно)',\n        maxLength: 20\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: styles.searchButton,\n      onPress: findСompanion,\n      children: _jsx(Text, {\n        style: styles.searchButtonText,\n        children: \"\\u041D\\u0430\\u0439\\u0442\\u0438 \\u0441\\u043E\\u0431\\u0435\\u0441\\u0435\\u0434\\u043D\\u0438\\u043A\\u0430\"\n      })\n    }), _jsxs(Text, {\n      style: styles.membersText,\n      children: [\"\\u0427\\u0438\\u0441\\u043B\\u043E \\u0443\\u0447\\u0430\\u0441\\u0442\\u043D\\u0438\\u043A\\u043E\\u0432: \", membersCount]\n    })]\n  });\n}\nvar sendNickName = function sendNickName(currentNick) {\n  console.log(currentNick);\n  var _ref3 = useState < String > '',\n    _ref4 = _slicedToArray(_ref3, 2),\n    result = _ref4[0],\n    setResult = _ref4[1];\n  useEffect(function () {\n    var postNickRequest = function () {\n      var _ref5 = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch('http://localhost:3232/api/setNick', {\n            method: 'POST',\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            body: JSON.stringify({\n              nickName: {\n                currentNick: currentNick\n              }\n            })\n          });\n          var json = yield response.json();\n          var _result = JSON.stringify(json);\n          setResult(_result);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n      return function postNickRequest() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    postNickRequest();\n  });\n};\nvar findСompanion = function findСompanion() {\n  var _ref6 = useState < String > '',\n    _ref7 = _slicedToArray(_ref6, 2),\n    companionNickName = _ref7[0],\n    setCompanionNick = _ref7[1];\n  useEffect(function () {\n    var getCompanion = function () {\n      var _ref8 = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch('http://localhost:3232/api/getCompanion', {\n            method: 'Get',\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*'\n          });\n          var json = yield response.json();\n          var _companionNickName = JSON.stringify(json);\n          setCompanionNick(_companionNickName);\n        } catch (error) {\n          console.error(error);\n        }\n      });\n      return function getCompanion() {\n        return _ref8.apply(this, arguments);\n      };\n    }();\n    getCompanion();\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#1b1d21'\n  },\n  header: {\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  headerText: {\n    fontSize: '27%',\n    fontWeight: '400',\n    color: '#b2bfd6',\n    marginBottom: '5%'\n  },\n  textInput: {\n    backgroundColor: '#3e434d',\n    width: '25%',\n    height: '20%',\n    borderRadius: 10,\n    fontSize: '20%',\n    fontWeight: '400',\n    marginBottom: '15%',\n    padding: 10\n  },\n  searchButtonText: {\n    fontSize: '27%',\n    fontWeight: '500',\n    color: '#b2bfd6',\n    padding: 10\n  },\n  membersText: {\n    color: '#b2bfd6',\n    fontSize: '20%'\n  },\n  searchButton: {\n    width: '70%',\n    height: '10%',\n    backgroundColor: '#3a3de0',\n    borderRadius: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: '50%'\n  }\n});","map":{"version":3,"names":["React","useRef","StyleSheet","Text","TextInput","View","TouchableOpacity","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ws","WebSocket","_useState","_useState2","_slicedToArray","membersCount","setMembersCount","getMembersCount","_ref","_asyncToGenerator","response","fetch","method","Accept","json","JSON","stringify","error","console","apply","arguments","App","_ref2","nickNameHandler","nickName","style","styles","container","children","header","headerText","textInput","onChangeText","defaultValue","maxLength","searchButton","onPress","findСompanion","searchButtonText","membersText","sendNickName","currentNick","log","_ref3","String","_ref4","result","setResult","postNickRequest","_ref5","body","_ref6","_ref7","companionNickName","setCompanionNick","getCompanion","_ref8","create","flex","alignItems","justifyContent","backgroundColor","fontSize","fontWeight","color","marginBottom","width","height","borderRadius","padding"],"sources":["C:/Work/repos/Anonymous/App.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport { StyleSheet, Text,TextInput, View, TouchableOpacity} from 'react-native';\nimport { useState,useEffect} from 'react';\n\nlet ws=new WebSocket(\"ws://localhost:2323\");\n\nconst [membersCount, setMembersCount] = useState(0);\n\nfunction getMembersCount(){\n  useEffect(() => {\n    const getMembersCount =async()=> {\n      try {\n        const response = await fetch(\n          'http://localhost:3232/api/members',{\n            method: 'Get',\n            //headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Origin' : '*',\n            //},\n          });\n        const json = await response.json();\n        const membersCount=JSON.stringify(json);\n        setMembersCount(membersCount);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    getMembersCount();\n  });\n}\n\nexport default function App() {\n  useEffect(() => {\n    const getMembersCount =async()=> {\n      try {\n        const response = await fetch(\n          'http://localhost:3232/api/members',{\n            method: 'Get',\n            //headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Origin' : '*',\n            //},\n          });\n        const json = await response.json();\n        const membersCount=JSON.stringify(json);\n        setMembersCount(membersCount);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    getMembersCount();\n  });\n  const nickNameHandler = (nickName) =>{\n   \n  }\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <Text style={styles.headerText}>Никнейм:</Text>\n        <TextInput \n          style={styles.textInput}\n          onChangeText={()=>{nickNameHandler(nickName)/*sendNickName(nickName)*/}}\n          defaultValue={'Все, что угодно)'}\n          maxLength={20} \n        />\n      </View>\n      <TouchableOpacity style={styles.searchButton} onPress={findСompanion}>\n        <Text style={styles.searchButtonText}>Найти собеседника</Text>\n      </TouchableOpacity>\n      <Text style={styles.membersText}>Число участников: {membersCount}</Text>\n    </View>\n  );\n}\n\nconst sendNickName = (currentNick) =>{\n  console.log(currentNick);\n  const [result, setResult] = useState<String>('');\n  useEffect(() => {\n    const postNickRequest =async()=> {\n      try {\n        const response = await fetch(\n          'http://localhost:3232/api/setNick',{\n            method: 'POST',\n            //headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Origin' : '*',\n            //},\n            body: JSON.stringify({\n              nickName: {currentNick},\n            }),\n          });\n        const json = await response.json();\n        const result=JSON.stringify(json);\n        setResult(result);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    postNickRequest();\n  });\n}\n\nconst findСompanion = () => {\n  const [companionNickName, setCompanionNick] = useState<String>('');\n  useEffect(() => {\n    const getCompanion =async()=> {\n      try {\n        const response = await fetch(\n          'http://localhost:3232/api/getCompanion',{\n            method: 'Get',\n            //headers: {\n              Accept: 'application/json',\n              'Content-Type': 'application/json',\n              'Access-Control-Allow-Origin' : '*',\n            //},\n          });\n        const json = await response.json();\n        const companionNickName=JSON.stringify(json);\n        setCompanionNick(companionNickName);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    getCompanion();\n  });\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#1b1d21',\n  },\n  header:{\n    alignItems:'center',\n    justifyContent:'center',\n  },\n  headerText:{\n    fontSize: '27%',\n    fontWeight: '400',\n    color: '#b2bfd6',\n    marginBottom:'5%',\n  },\n  textInput:{\n    backgroundColor:'#3e434d',\n    width: '25%',\n    height: '20%',\n    borderRadius:10,\n    fontSize:'20%',\n    fontWeight: '400',\n    marginBottom:'15%',\n    padding:10,\n  },\n  searchButtonText:{\n    fontSize: '27%',\n    fontWeight: '500',\n    color: '#b2bfd6',\n    padding: 10,\n  },\n  membersText:{\n    color:'#b2bfd6',\n    fontSize: '20%',\n  },\n  searchButton: {\n    width:'70%',\n    height: '10%',\n    backgroundColor: '#3a3de0',\n    borderRadius: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom:'50%',\n },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}